<p>User</p>
<% if flash[:notice] or flash[:alert] %>
  <p class='alert alert-primary flash'><%= flash[:notice] %>  <%= flash[:alert] %>
  </p> 
<% end %>

<div class="d-flex flex-row">
  <%= render "shared/admins/sidebar" %>
  <div>
    <div class="d-flex">
      <div class=" my-4">
        <%= link_to t('.actions.new'), new_admin_user_path, class: "btn btn-primary mr-2" %>
      </div>  
    </div>
    <table class="table table-striped table-hove">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">Email</th>
          <th scope="col">Password</th>
          <th scope="col">Admin</th>
          <th scope="col">Num of Products</th>
          <th scope="col">Create At</th>
          <th scope="col">Update At</th>
          <th scope="col">Delete</th>
          <th scope="col">Edit</th>
        </tr>
      </thead>
      <tbody>
        <% @users.each do |user| %>
          <tr>
            <th scope="row"><%= user.id %></th>
            <td><%= link_to user.name, user_product_admin_user_path(user.id) %></td>
            <td><%= user.email %></td>
            <td><%= user.password %></td>
            <td><%= user.admin %></td>
            <td><%= user.products.count %></td>
            <td><%= user.created_at.strftime("%m/%d/%Y") %></td>
            <td><%= user.updated_at.strftime("%m/%d/%Y") %></td>
            <td><%= link_to "Delete", admin_user_path(user), method:'Delete', data: {confirm: "Are you sure you want to delete this user?" } %></td>
            <td><%= link_to "Edit", edit_admin_user_path(user) %></td>
          </tr>    
        <% end %>
      </tbody>
    </table>
  </div>
</div>